<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[陈西西]]></title>
  <subtitle><![CDATA[通往架构师的路上]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://blog.chen777.com/"/>
  <updated>2015-12-01T07:51:16.973Z</updated>
  <id>http://blog.chen777.com/</id>
  
  <author>
    <name><![CDATA[Xixi Chain]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[easyui作后台(一)]]></title>
    <link href="http://blog.chen777.com/2015/11/30/easyui%E4%BD%9C%E5%90%8E%E5%8F%B0-%E4%B8%80/"/>
    <id>http://blog.chen777.com/2015/11/30/easyui作后台-一/</id>
    <published>2015-11-30T02:50:31.000Z</published>
    <updated>2015-12-01T07:51:16.973Z</updated>
    <content type="html"><![CDATA[<h1 id="介绍">介绍</h1><p>jQuery EasyUI是一组基于jQuery的UI插件集合体，而jQuery EasyUI的目标就是帮助web开发者更轻松的打造出功能丰富并且美观的UI界面。开发者不需要编写复杂的javascript，也不需要对css样式有深入的了解，开发者需要了解的只有一些简单的html标签。<br><a id="more"></a></p>
<p><a href="http://www.jeasyui.com/" target="_blank" rel="external">英文官网,建议翻墙访问英文官网</a></p>
<p><a href="http://www.jeasyui.net/plugins/183.html" target="_blank" rel="external">中文官网,垃圾广告多。可以使用Chrome集成AdBlock拦截广告插件</a></p>
<h1 id="使用">使用</h1><pre><code>去官网去下载一个easyui的包，然后<span class="keyword">copy</span>到java项目中，放在js文件夹下。（可以先用Hbuilder试玩一下easyui的各种需求）然后就开始搞首页啦。
</code></pre><p><img src="http://ww4.sinaimg.cn/large/0063lLoQjw1eyk5e7ueevj31hc0qc0x4.jpg" alt="index.jsp"></p>
<h1 id="首页功能分析">首页功能分析</h1><pre><code>左边的树形菜单，<span class="keyword">tabs</span>右键菜单，国际化。
</code></pre><h1 id="实现">实现</h1><pre><code>第一节只展示页面渲染，实现页面整体构造
</code></pre><h2 id="index-jsp">index.jsp</h2><pre><code><span class="xml"><span class="tag">&lt;<span class="title">%@</span> <span class="attribute">page</span> <span class="attribute">language</span>=<span class="value">"java"</span> <span class="attribute">import</span>=<span class="value">"java.util.*"</span> <span class="attribute">pageEncoding</span>=<span class="value">"UTF-8"</span><span class="value">%</span>&gt;</span>
<span class="tag">&lt;<span class="title">%@include</span> <span class="attribute">file</span>=<span class="value">"/WEB-INF/jsp/common/taglibs.jsp"</span> %&gt;</span>
<span class="doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
  <span class="tag">&lt;<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">title</span>&gt;</span><span class="tag">&lt;/<span class="title">title</span>&gt;</span>
    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"pragma"</span> <span class="attribute">content</span>=<span class="value">"no-cache"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"cache-control"</span> <span class="attribute">content</span>=<span class="value">"no-cache"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"expires"</span> <span class="attribute">content</span>=<span class="value">"0"</span>&gt;</span>    
    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"keywords"</span> <span class="attribute">content</span>=<span class="value">"keyword1,keyword2,keyword3"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"description"</span> <span class="attribute">content</span>=<span class="value">"This is my page"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"${ctx}/css/index.css"</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"${ctx}/css/zTreeStyle.css"</span> /&gt;</span>
    <span class="tag">&lt;<span class="title">link</span> <span class="attribute">href</span>=<span class="value">"${ctx}/favicon.ico"</span> <span class="attribute">type</span>=<span class="value">"image/x-icon"</span> <span class="attribute">rel</span>=<span class="value">"icon"</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/jquery.ztree.core-3.5.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/index.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">head</span>&gt;</span>

 <span class="tag">&lt;<span class="title">body</span> <span class="attribute">class</span>=<span class="value">"easyui-layout"</span> <span class="attribute">id</span>=<span class="value">"mainBody"</span>&gt;</span>
      <span class="tag">&lt;<span class="title">div</span> <span class="attribute">region</span>=<span class="value">"north"</span> <span class="attribute">split</span>=<span class="value">"true"</span> <span class="attribute">class</span>=<span class="value">"header"</span>&gt;</span>
           <span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"${ctx}/images/logo.png"</span> <span class="attribute">class</span>=<span class="value">"logo l"</span>&gt;</span>

           <span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"r"</span> <span class="attribute">style</span>=<span class="value">"color: red"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">span</span> <span class="attribute">id</span>=<span class="value">"theTime"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span>&amp;nbsp;&amp;nbsp;&amp;nbsp;<span class="tag">&lt;<span class="title">spring:message</span> <span class="attribute">code</span>=<span class="value">"top.hello"</span>/&gt;</span>!
            <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">'javascript:void(0)'</span> <span class="attribute">id</span>=<span class="value">"setLanguage"</span> <span class="attribute">class</span>=<span class="value">"pwd_reset"</span>&gt;</span>语言设置<span class="tag">&lt;/<span class="title">a</span>&gt;</span> 
            <span class="tag">&lt;<span class="title">c:if</span> <span class="attribute">test</span>=<span class="value">"${userType=='1'}"</span>&gt;</span><span class="tag">&lt;<span class="title">spring:message</span> <span class="attribute">code</span>=<span class="value">"top.username"</span>/&gt;</span><span class="tag">&lt;/<span class="title">c:if</span>&gt;</span>
            ${adminInfo.nickname}<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"javascript:void(0);"</span> <span class="attribute">id</span>=<span class="value">"pwdReset"</span> <span class="attribute">class</span>=<span class="value">"pwd_reset"</span>&gt;</span><span class="tag">&lt;<span class="title">spring:message</span> <span class="attribute">code</span>=<span class="value">"top.reset"</span>/&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span>
            <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"${ctx}/admin/exitAdmin.do"</span> <span class="attribute">class</span>=<span class="value">"exit_system"</span>&gt;</span><span class="tag">&lt;<span class="title">spring:message</span> <span class="attribute">code</span>=<span class="value">"top.outsystem"</span>/&gt;</span><span class="tag">&lt;/<span class="title">a</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">p</span>&gt;</span> 
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">region</span>=<span class="value">"west"</span> <span class="attribute">split</span>=<span class="value">"true"</span> <span class="attribute">title</span>=<span class="value">"导航菜单"</span> <span class="attribute">style</span>=<span class="value">"width: 180px;overflow:hidden;"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"menuId"</span> <span class="attribute">class</span>=<span class="value">"easyui-accordion"</span> <span class="attribute">fit</span>=<span class="value">"true"</span> <span class="attribute">border</span>=<span class="value">"false"</span>&gt;</span>

        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">region</span>=<span class="value">"center"</span> <span class="attribute">id</span>=<span class="value">"mainPanle"</span> <span class="attribute">style</span>=<span class="value">"background: #eee;overflow:hidden;"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"tabs"</span> <span class="attribute">class</span>=<span class="value">"easyui-tabs"</span> <span class="attribute">fit</span>=<span class="value">"true"</span> <span class="attribute">border</span>=<span class="value">"false"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">title</span>=<span class="value">"主页"</span> <span class="attribute">style</span>=<span class="value">"padding: 20px;"</span> <span class="attribute">id</span>=<span class="value">"home"</span>&gt;</span>
                <span class="tag">&lt;<span class="title">h1</span>&gt;</span> Welcome...<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

        <span class="comment">&lt;!-- tabs右键菜单 --&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"rightMenu"</span> <span class="attribute">class</span>=<span class="value">"easyui-menu"</span> <span class="attribute">style</span>=<span class="value">"position: absolute;margin: 0;padding: 2px;border-width: 1px;border-style: solid; overflow: hidden;"</span>&gt;</span>
             <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabclose"</span> <span class="attribute">data-options</span>=<span class="value">"name:1"</span> &gt;</span>关闭<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabcloseall"</span> <span class="attribute">data-options</span>=<span class="value">"name:2"</span>&gt;</span>全部关闭<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabcloseother"</span> <span class="attribute">data-options</span>=<span class="value">"name:3"</span>&gt;</span>除此之外全部关闭<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
             <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"menu-sep"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabcloseright"</span> <span class="attribute">data-options</span>=<span class="value">"name:4"</span>&gt;</span>当前页右侧全部关闭<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabcloseleft"</span> <span class="attribute">data-options</span>=<span class="value">"name:5"</span>&gt;</span>当前页左侧全部关闭<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"mm-tabclose"</span> <span class="attribute">name</span>=<span class="value">"6"</span>&gt;</span>刷新<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

        <span class="comment">&lt;!-- 重置密码 --&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"resetWin"</span> <span class="attribute">class</span>=<span class="value">"easyui-window"</span>  <span class="attribute">style</span>=<span class="value">"height: 160px;width: 380px; overflow-y:auto;"</span> <span class="attribute">data-options</span>=<span class="value">"modal:true,closed:true"</span> &gt;</span>
            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">hidden</span> <span class="attribute">id</span>=<span class="value">"id"</span> <span class="attribute">value</span>=<span class="value">"${USER_SESSION_INFO.ADMIN_ID}"</span>/&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">style</span>=<span class="value">"margin-left:10px;"</span>&gt;</span>
                  <span class="tag">&lt;<span class="title">table</span> <span class="attribute">class</span>=<span class="value">"mainTable"</span>&gt;</span>
                      <span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span> &gt;</span>旧密码：<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"password"</span> <span class="attribute">id</span>=<span class="value">"password_old"</span> /&gt;</span> 
                    <span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span> &gt;</span>新密码：<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"password"</span> <span class="attribute">id</span>=<span class="value">"password"</span> /&gt;</span>
                    <span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span> &gt;</span>确认新密码：<span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">td</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"password"</span> <span class="attribute">id</span>=<span class="value">"password1"</span> /&gt;</span>
                    <span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">td</span> <span class="attribute">colspan</span>=<span class="value">"2"</span> <span class="attribute">style</span>=<span class="value">"text-align: right"</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">class</span>=<span class="value">"easyui-linkbutton"</span> <span class="attribute">onclick</span>=<span class="value">"resetPassword()"</span> <span class="attribute">id</span>=<span class="value">"baocunid"</span>&gt;</span>保存<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">class</span>=<span class="value">"easyui-linkbutton"</span> <span class="attribute">onclick</span>=<span class="value">"closeResetWin()"</span>&gt;</span>取消<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">td</span>&gt;</span><span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                <span class="tag">&lt;/<span class="title">table</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>

       <span class="comment">&lt;!-- 语言选择 --&gt;</span> 
       <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"languageWin"</span> <span class="attribute">class</span>=<span class="value">"easyui-window"</span>  <span class="attribute">style</span>=<span class="value">"height: 160px;width: 380px; overflow-y:auto;"</span> <span class="attribute">data-options</span>=<span class="value">"modal:true,closed:true"</span> &gt;</span>
               <span class="tag">&lt;<span class="title">form</span> <span class="attribute">style</span>=<span class="value">"padding:20px;"</span>&gt;</span>
                   <span class="tag">&lt;<span class="title">table</span> <span class="attribute">style</span>=<span class="value">"width:320px;"</span>&gt;</span>
                   <span class="tag">&lt;<span class="title">tr</span>&gt;</span><span class="tag">&lt;<span class="title">c:if</span> <span class="attribute">test</span>=<span class="value">""</span>&gt;</span><span class="tag">&lt;/<span class="title">c:if</span>&gt;</span>
                       <span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">name</span>=<span class="value">'language'</span> &lt;<span class="attribute">c:if</span> <span class="attribute">test</span>=<span class="value">"${localeLanguage=='zh_CN'}"</span>&gt;</span>checked='checked'<span class="tag">&lt;/<span class="title">c:if</span>&gt;</span> value='zh_CN'/&gt;简体中文<span class="tag">&lt;/<span class="title">td</span>&gt;</span>
                       <span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">name</span>=<span class="value">'language'</span> &lt;<span class="attribute">c:if</span> <span class="attribute">test</span>=<span class="value">"${localeLanguage=='zh_HK'}"</span>&gt;</span>checked='checked'<span class="tag">&lt;/<span class="title">c:if</span>&gt;</span> value='zh_HK'/&gt;繁体中文<span class="tag">&lt;/<span class="title">td</span>&gt;</span>
                       <span class="tag">&lt;<span class="title">td</span>&gt;</span><span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">name</span>=<span class="value">'language'</span> &lt;<span class="attribute">c:if</span> <span class="attribute">test</span>=<span class="value">"${localeLanguage=='en_US'}"</span>&gt;</span>checked='checked'<span class="tag">&lt;/<span class="title">c:if</span>&gt;</span> value='en_US'/&gt;English<span class="tag">&lt;/<span class="title">td</span>&gt;</span>
                   <span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                   <span class="tag">&lt;<span class="title">tr</span>&gt;</span>
                       <span class="tag">&lt;<span class="title">td</span> <span class="attribute">colspan</span>=<span class="value">"2"</span> <span class="attribute">align</span>=<span class="value">"center"</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">class</span>=<span class="value">"easyui-linkbutton"</span> <span class="attribute">onclick</span>=<span class="value">"setLanguage()"</span> <span class="attribute">id</span>=<span class="value">"baocunid"</span>&gt;</span>保存<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">class</span>=<span class="value">"easyui-linkbutton"</span> <span class="attribute">onclick</span>=<span class="value">"closeLanguageWin()"</span>&gt;</span>取消<span class="tag">&lt;/<span class="title">a</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">td</span>&gt;</span>
                   <span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
                   <span class="tag">&lt;/<span class="title">table</span>&gt;</span>
               <span class="tag">&lt;/<span class="title">form</span>&gt;</span>
       <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
  <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></span>
</code></pre><h2 id="taglibs-jsp(共用的东西，提取出一个jsp页面，其他页面只用引入即可)">taglibs.jsp(共用的东西，提取出一个jsp页面，其他页面只用引入即可)</h2><pre><code><span class="xml"></span>&lt;%<span class="ruby">@ page language=<span class="string">"java"</span> import=<span class="string">"java.util.*"</span> pageEncoding=<span class="string">"utf-8"</span></span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"><span class="variable">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> prefix=<span class="string">"c"</span></span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"><span class="variable">@taglib</span> prefix=<span class="string">"spring"</span> uri=<span class="string">"http://www.springframework.org/tags"</span> </span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"><span class="variable">@taglib</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/fmt"</span> prefix=<span class="string">"fmt"</span> </span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"><span class="variable">@taglib</span> uri=<span class="string">"http://v.365sji.com/hksj/fmt"</span> prefix=<span class="string">"hksj"</span></span>%&gt;<span class="xml">

<span class="tag">&lt;<span class="title">c:set</span> <span class="attribute">var</span>=<span class="value">"ctx"</span> <span class="attribute">value</span>=<span class="value">"${pageContext.request.contextPath}"</span>/&gt;</span>
<span class="tag">&lt;<span class="title">c:set</span> <span class="attribute">var</span>=<span class="value">"localeLanguage"</span> <span class="attribute">value</span>=<span class="value">"${myLocale==null?pageContext.request.locale:myLocale}"</span>/&gt;</span>
<span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"${ctx}/js/easyui/themes/default/easyui.css"</span>/&gt;</span>
<span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">href</span>=<span class="value">"${ctx}/js/easyui/themes/icon.css"</span>/&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/languages/messages_${localeLanguage}.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/jsUtils.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/easyui/jquery.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/easyui/jquery.easyui.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"${ctx}/js/easyui/locale/easyui-lang-${localeLanguage}.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span>
</code></pre><h2 id="index-js">index.js</h2><pre><code>    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
    initTime();

    InitLeftMenu();

    $(<span class="string">'body'</span>).layout();

  <span class="comment">//监听右键事件，创建右键菜单</span>
    $(<span class="string">'#tabs'</span>).tabs({
        onContextMenu:<span class="function"><span class="keyword">function</span>(<span class="params">e, title,index</span>)</span>{
            e.preventDefault();
            <span class="keyword">if</span>(index&gt;<span class="number">0</span>){
                $(<span class="string">'#rightMenu'</span>).menu(<span class="string">'show'</span>, {
                    left: e.pageX,
                    top: e.pageY
                }).data(<span class="string">"tabTitle"</span>, title);
            }
        }
    });

    <span class="comment">//右键菜单click</span>
    $(<span class="string">"#rightMenu"</span>).menu({
        onClick : <span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{
            closeTab(<span class="keyword">this</span>, item.name);
        }
    });

    <span class="comment">//设置语言</span>
    $(<span class="string">'#setLanguage'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
        $(<span class="string">'#languageWin'</span>).window(<span class="string">'open'</span>); 
    });
});

<span class="comment">/**
 * 初始化左边的菜单栏
 */</span>
<span class="function"><span class="keyword">function</span> <span class="title">InitLeftMenu</span>(<span class="params"></span>) </span>{
    hoverMenuItem();
    $.post(<span class="string">'getLeftMenu.do'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">menus</span>)</span>{
        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; menus.length; i++) 
        {
            <span class="keyword">var</span> str=<span class="string">""</span>;
            <span class="keyword">if</span>(menus[i].leaf==<span class="string">"1"</span>)
            {
                str+=<span class="string">"&lt;div title='"</span>+menus[i].menu_name+<span class="string">"' style='overflow:auto;' icon='icon-edit' &gt;"</span>;
                str+=<span class="string">"&lt;div&gt;&lt;ul&gt;&lt;li&gt;"</span>;
                <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; menus.length; j++)  <span class="comment">//拼接子目录</span>
                {
                    <span class="keyword">if</span>(menus[i].menu_id==menus[j].parent_menu)
                    {
                        str+=<span class="string">"&lt;div&gt;&lt;a href=\"javascript:void(0);\" onclick=\"addTab('"</span>+JsUtils.getRootPath()+<span class="string">'/'</span>+menus[j].url+<span class="string">"','"</span>+menus[j].menu_name+<span class="string">"')\"&gt;"</span>+menus[j].menu_name+<span class="string">"&lt;/a&gt;&lt;/div&gt;"</span>;
                    }
                }
                str+=<span class="string">"&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;"</span>;

                $(<span class="string">'#menuId'</span>).accordion(<span class="string">'add'</span>, {
                    title : menus[i].menu_name,
                    content : str,
                  <span class="comment">//  iconCls : 'icon ' + sm.icon</span>
                });

            }
        }

        <span class="keyword">var</span> pp = $(<span class="string">'#menuId'</span>).accordion(<span class="string">'panels'</span>);
        <span class="keyword">var</span> t = pp[<span class="number">0</span>].panel(<span class="string">'options'</span>).title;
        $(<span class="string">'#menuId'</span>).accordion(<span class="string">'select'</span>, t);
    });


}

<span class="comment">/**
 * 菜单项鼠标Hover
 */</span>
<span class="function"><span class="keyword">function</span> <span class="title">hoverMenuItem</span>(<span class="params"></span>) </span>{
    $(<span class="string">".easyui-accordion"</span>).find(<span class="string">'a'</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
        $(<span class="keyword">this</span>).parent().addClass(<span class="string">"hover"</span>);
    }, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
        $(<span class="keyword">this</span>).parent().removeClass(<span class="string">"hover"</span>);
    });
}

<span class="comment">/**
 * 添加tab
 * @param url
 * @param tabTitle
 */</span>
<span class="function"><span class="keyword">function</span> <span class="title">addTab</span>(<span class="params">url ,tabTitle</span>) </span>{
    <span class="keyword">if</span> (!$(<span class="string">'#tabs'</span>).tabs(<span class="string">'exists'</span>, tabTitle)) {
        $(<span class="string">'#tabs'</span>).tabs(<span class="string">'add'</span>, {
            title: tabTitle,
            content: createFrame(url),
            closable: <span class="literal">true</span>,
            width: $(<span class="string">'#mainPanle'</span>).width() - <span class="number">10</span>,
            height: $(<span class="string">'#mainPanle'</span>).height() - <span class="number">26</span>
        });
    } <span class="keyword">else</span> {
        $(<span class="string">'#tabs'</span>).tabs(<span class="string">'select'</span>, tabTitle);
    }
}

<span class="function"><span class="keyword">function</span> <span class="title">createFrame</span>(<span class="params">url</span>) </span>{
    <span class="keyword">var</span> s = <span class="string">'&lt;iframe name="mainFrame" scrolling="no" frameborder="0"  src="'</span> + url + <span class="string">'" style="width:100%;height:100%;"&gt;&lt;/iframe&gt;'</span>;
    <span class="keyword">return</span> s;
}

<span class="comment">//删除Tabs</span>
<span class="function"><span class="keyword">function</span> <span class="title">closeTab</span>(<span class="params">menu, type</span>) </span>{
    <span class="keyword">var</span> allTabs = $(<span class="string">"#tabs"</span>).tabs(<span class="string">'tabs'</span>);
    <span class="keyword">var</span> allTabtitle = [];
    $.each(allTabs, <span class="function"><span class="keyword">function</span> (<span class="params">i, n</span>) </span>{
        <span class="keyword">var</span> opt = $(n).panel(<span class="string">'options'</span>);
        <span class="keyword">if</span> (opt.closable)
            allTabtitle.push(opt.title);
    });
    <span class="keyword">var</span> curTabTitle = $(menu).data(<span class="string">"tabTitle"</span>);
    <span class="keyword">var</span> curTabIndex = $(<span class="string">"#tabs"</span>).tabs(<span class="string">"getTabIndex"</span>, $(<span class="string">"#tabs"</span>).tabs(<span class="string">"getTab"</span>, curTabTitle));
    <span class="keyword">switch</span> (type) {
        <span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//关闭当前</span>
            $(<span class="string">"#tabs"</span>).tabs(<span class="string">"close"</span>, curTabIndex);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//全部关闭</span>
            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; allTabtitle.length; i++) {
                $(<span class="string">'#tabs'</span>).tabs(<span class="string">'close'</span>, allTabtitle[i]);
            }
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">3</span>:<span class="comment">//除此之外全部关闭</span>
            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; allTabtitle.length; i++) {
                <span class="keyword">if</span> (curTabTitle != allTabtitle[i])
                    $(<span class="string">'#tabs'</span>).tabs(<span class="string">'close'</span>, allTabtitle[i]);
            }
            $(<span class="string">'#tabs'</span>).tabs(<span class="string">'select'</span>, curTabTitle);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">4</span>:<span class="comment">//当前侧面右边</span>
            <span class="keyword">for</span> (<span class="keyword">var</span> i = curTabIndex; i &lt; allTabtitle.length; i++) {
                $(<span class="string">'#tabs'</span>).tabs(<span class="string">'close'</span>, allTabtitle[i]);
            }
            $(<span class="string">'#tabs'</span>).tabs(<span class="string">'select'</span>, curTabTitle);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">5</span>: <span class="comment">//当前侧面左边</span>
            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; curTabIndex - <span class="number">1</span>; i++) {
                $(<span class="string">'#tabs'</span>).tabs(<span class="string">'close'</span>, allTabtitle[i]);
            }
            $(<span class="string">'#tabs'</span>).tabs(<span class="string">'select'</span>, curTabTitle);
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="number">6</span>: <span class="comment">//刷新</span>
            <span class="keyword">var</span> panel = $(<span class="string">"#tabs"</span>).tabs(<span class="string">"getTab"</span>, curTabTitle).panel(<span class="string">"refresh"</span>);
            <span class="keyword">break</span>;
    }
}

<span class="function"><span class="keyword">function</span> <span class="title">initTime</span>(<span class="params"></span>)</span>{
    <span class="comment">/**
     * 显示系统时钟
     */</span>
    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();
    <span class="keyword">var</span> y=date.getFullYear();
    <span class="keyword">var</span> mon=date.getMonth()+<span class="number">1</span>;
    mon = mon &lt; <span class="number">10</span> ? <span class="string">'0'</span> + mon : mon;
    <span class="keyword">var</span> day=date.getDate();
    day = day &lt; <span class="number">10</span> ? <span class="string">'0'</span> + day : day;
    <span class="keyword">var</span> h = date.getHours();
    h = h &lt; <span class="number">10</span> ? <span class="string">'0'</span> + h : h;
    <span class="keyword">var</span> m = date.getMinutes();
    m = m &lt; <span class="number">10</span> ? <span class="string">'0'</span> + m : m;
    <span class="keyword">var</span> s = date.getSeconds();
    s = s &lt; <span class="number">10</span> ? <span class="string">'0'</span> + s : s;
    $(<span class="string">'#theTime'</span>).html(getLanValue_(<span class="string">"root_showtime"</span>)+y+<span class="string">"-"</span>+mon+<span class="string">"-"</span>+day+<span class="string">" "</span>+h + <span class="string">":"</span> + m + <span class="string">":"</span> + s);
}
setInterval(<span class="string">"initTime()"</span>, <span class="number">1000</span>);


<span class="function"><span class="keyword">function</span> <span class="title">setLanguage</span>(<span class="params"></span>)</span>{
    <span class="keyword">var</span> locale=$(<span class="string">':radio:checked'</span>).val();
    $.post(JsUtils.getRootPath()+<span class="string">'/admin/setLanguage.do'</span>,{locale:locale},<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
        closeLanguageWin();
        location.reload(<span class="literal">true</span>); 
    });
}

<span class="function"><span class="keyword">function</span> <span class="title">closeLanguageWin</span>(<span class="params"></span>)</span>{
    $(<span class="string">'#languageWin'</span>).window(<span class="string">'close'</span>);
}
</code></pre><h2 id="左边菜单栏的表结构">左边菜单栏的表结构</h2><p><img src="http://ww3.sinaimg.cn/large/0063lLoQjw1eyk69oeo0oj30fr0a3mzr.jpg" alt="表结构"></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="介绍">介绍</h1><p>jQuery EasyUI是一组基于jQuery的UI插件集合体，而jQuery EasyUI的目标就是帮助web开发者更轻松的打造出功能丰富并且美观的UI界面。开发者不需要编写复杂的javascript，也不需要对css样式有深入的了解，开发者需要了解的只有一些简单的html标签。<br>]]>
    
    </summary>
    
      <category term="easyui" scheme="http://blog.chen777.com/tags/easyui/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[webuploader(ssi)图片上传]]></title>
    <link href="http://blog.chen777.com/2015/10/21/webuploader-ssi-%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/"/>
    <id>http://blog.chen777.com/2015/10/21/webuploader-ssi-图片上传/</id>
    <published>2015-10-21T03:19:20.000Z</published>
    <updated>2015-10-22T00:53:00.551Z</updated>
    <content type="html"><![CDATA[<h1 id="背景">背景</h1><p>前面项目中使用的是ajaxfileupload作为上传工具我感觉这个工具不是很方便，而且很多参数校验要到后台去处理，扩展性和可维护性低。我希望有一个插件在前台做更多的校验，不需要到后台做检验。这个时候<a href="http://fex.baidu.com/webuploader/" target="_blank" rel="external">webuploader</a>出来了。并且极为重要的一点是支持跨域上传文件或者图片。</p>
<a id="more"></a>
<h1 id="使用">使用</h1><p>首先你需要到webuploader去了解基本用法和参数，我使用的是ssi架构。</p>
<h2 id="js">js</h2><pre><code>// 图片上传demo
jQuery(<span class="keyword">function</span>() {
var $ = jQuery,
    <span class="variable">$list</span> = $(<span class="string">'#fileList'</span>),
    // 优化retina, 在retina下这个值是<span class="number">2</span>
    ratio = window.devicePixelRatio || <span class="number">1</span>,

    // 缩略图大小
    thumbnailWidth = <span class="number">200</span> * ratio,
    thumbnailHeight = <span class="number">200</span> * ratio,

    // Web Uploader实例
    uploader;

// 初始化Web Uploader
uploader = WebUploader.create({

    // 自动上传。
    auto: true,

    // swf文件路径
    swf: <span class="string">'Uploader.swf'</span>,

    // 文件接收服务端。
    server: <span class="string">'admin/subscribe/uploadImg.action'</span>,

    // 选择文件的按钮。可选。
    // 内部根据当前运行是创建，可能是input元素，也可能是flash.
    pick: <span class="string">'#filePicker'</span>,

    // 只允许选择文件，可选。
    accept: {
        title: <span class="string">'Images'</span>,
        extensions: <span class="string">'gif,jpg,jpeg,bmp,png'</span>,
        mimeTypes: <span class="string">'image/*'</span>
    },
    fileVal:<span class="string">'filedata'</span>, //fileVal {Object} [可选] [默认值：<span class="string">'file'</span>] 设置文件上传域的name。

    fileNumLimit : <span class="number">1</span> 
});


// 当有文件添加进来的时候
uploader.on( <span class="string">'fileQueued'</span>, function( file ) {
    var <span class="variable">$li</span> = $(
            <span class="string">'&lt;div id="'</span> + file.id + <span class="string">'" class="file-item thumbnail"&gt;'</span> +
                <span class="string">'&lt;img&gt;'</span> +
                <span class="string">'&lt;div class="info"&gt;'</span> + file.name + <span class="string">'&lt;/div&gt;'</span> +
            <span class="string">'&lt;/div&gt;'</span>
            ),
        <span class="variable">$img</span> = <span class="variable">$li</span>.find(<span class="string">'img'</span>);

    <span class="variable">$list</span>.append( <span class="variable">$li</span> );

    // 创建缩略图
    uploader.makeThumb( file, function( error, src ) {
        if ( error ) {
            <span class="variable">$img</span>.replaceWith(<span class="string">'&lt;span&gt;不能预览&lt;/span&gt;'</span>);
            return;
        }

        <span class="variable">$img</span>.attr( <span class="string">'src'</span>, src );
    }, thumbnailWidth, thumbnailHeight );
});

// 文件上传过程中创建进度条实时显示。
uploader.on( <span class="string">'uploadProgress'</span>, function( file, percentage ) {
    var <span class="variable">$li</span> = $( <span class="string">'#'</span>+file.id ),
        <span class="variable">$percent</span> = <span class="variable">$li</span>.find(<span class="string">'.progress span'</span>);

    // 避免重复创建
    if ( !<span class="variable">$percent</span>.length ) {
        <span class="variable">$percent</span> = $(<span class="string">'&lt;p class="progress"&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;'</span>)
                .appendTo( <span class="variable">$li</span> )
                .find(<span class="string">'span'</span>);
    }

    <span class="variable">$percent</span>.css( <span class="string">'width'</span>, percentage * <span class="number">100</span> + <span class="string">'%'</span> );
});

// 文件上传成功，给item添加成功class, 用样式标记上传成功。
uploader.on( <span class="string">'uploadSuccess'</span>, function( file ) {
    $( <span class="string">'#'</span>+file.id ).addClass(<span class="string">'upload-state-done'</span>);
});

// 文件上传失败，现实上传出错。
uploader.on( <span class="string">'uploadError'</span>, function( file ) {
    var <span class="variable">$li</span> = $( <span class="string">'#'</span>+file.id ),
        <span class="variable">$error</span> = <span class="variable">$li</span>.find(<span class="string">'div.error'</span>);

    // 避免重复创建
    if ( !<span class="variable">$error</span>.length ) {
        <span class="variable">$error</span> = $(<span class="string">'&lt;div class="error"&gt;&lt;/div&gt;'</span>).appendTo( <span class="variable">$li</span> );
    }

    <span class="variable">$error</span>.text(<span class="string">'上传失败'</span>);
});

// 完成上传完了，成功或者失败，先删除进度条。
uploader.on( <span class="string">'uploadComplete'</span>, function( file ) {
    $( <span class="string">'#'</span>+file.id ).find(<span class="string">'.progress'</span>).remove();
});
}); 
</code></pre><h2 id="jsp">jsp</h2><pre><code><span class="xml"></span>&lt;%<span class="ruby">@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span>
pageEncoding=<span class="string">"UTF-8"</span></span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby">@ <span class="keyword">include</span> file=<span class="string">"/admin/common/jsp/globalManagement.jsp"</span></span>%&gt;<span class="xml">    

<span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
    <span class="tag">&lt;<span class="title">head</span>&gt;</span>
        <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">title</span>&gt;</span>webuploader<span class="tag">&lt;/<span class="title">title</span>&gt;</span>
        <span class="tag">&lt;<span class="title">base</span> <span class="attribute">href</span>=<span class="value">"</span></span></span>&lt;%=<span class="ruby">basePath</span>%&gt;<span class="xml"><span class="tag"><span class="value">"</span>&gt;</span>
        <span class="comment">&lt;!--引入CSS--&gt;</span>
        <span class="tag">&lt;<span class="title">link</span> <span class="attribute">rel</span>=<span class="value">"stylesheet"</span> <span class="attribute">type</span>=<span class="value">"text/css"</span> <span class="attribute">href</span>=<span class="value">"</span></span></span>&lt;%=<span class="ruby">basePath</span>%&gt;<span class="xml"><span class="tag"><span class="value">admin/webuploader/webuploader.css"</span>&gt;</span>

        <span class="comment">&lt;!--引入JS--&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"</span></span></span>&lt;%=<span class="ruby">basePath</span>%&gt;<span class="xml"><span class="tag"><span class="value">common/js/jquery-1.7.2.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"</span></span></span>&lt;%=<span class="ruby">basePath</span>%&gt;<span class="xml"><span class="tag"><span class="value">admin/webuploader/webuploader.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"</span></span></span>&lt;%=<span class="ruby">basePath</span>%&gt;<span class="xml"><span class="tag"><span class="value">admin/webuploader/upload.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">head</span>&gt;</span>

    <span class="tag">&lt;<span class="title">body</span>&gt;</span>
        <span class="comment">&lt;!--dom结构部分--&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"uploader-demo"</span>&gt;</span>
            <span class="comment">&lt;!--用来存放item--&gt;</span>
            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"hidden"</span>  <span class="attribute">name</span>=<span class="value">"fileName"</span> /&gt;</span><span class="tag">&lt;<span class="title">br</span>/&gt;</span>    
             <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"fileList"</span> <span class="attribute">class</span>=<span class="value">"uploader-list"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span> 
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"filePicker"</span>&gt;</span>选择图片<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span></span>
</code></pre><h2 id="action">action</h2><pre><code><span class="comment">/**
 * 图片上传
 */</span>
<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uploadImg</span><span class="params">()</span></span>{
    subscribeService.upload(filedata,filedataFileName);
}
</code></pre><h2 id="service">service</h2><pre><code><span class="keyword">public</span> <span class="keyword">String</span> upload(File filedata,<span class="keyword">String</span> fileName,<span class="built_in">int</span> <span class="variable">width</span>,<span class="built_in">int</span> <span class="variable">height</span>){
    ServletActionContext.getResponse().setContentType(<span class="string">"text/html; charset=utf-8"</span>);
    <span class="keyword">String</span> json= <span class="string">""</span>;
      <span class="keyword">String</span> path1=<span class="string">""</span>;
      <span class="keyword">if</span>(filedata!=<span class="keyword">null</span>){

        <span class="comment">// 获取缩略图保存的文件夹</span>
        <span class="keyword">String</span> filePath = PropertyUtils.getProperty(<span class="string">"ccsimgupload"</span>);
            <span class="comment">// 获取网站基础路径</span>
        <span class="keyword">String</span> baseurl = PropertyUtils.getProperty(<span class="string">"baseurl"</span>);

        <span class="comment">// 获取到文件的绝对路径</span>
        <span class="keyword">String</span> fd = DateUtil.formatDate(<span class="keyword">new</span> Date(), <span class="string">"yyyyMMdd"</span>);
        <span class="keyword">String</span> uploadPath =  filePath + fd;
        <span class="keyword">String</span> newFileName = System.nanoTime()
                + UploadFileUtil.getFileName(fileName);
        path1 = UploadFileUtil.uploadFileInfo(filedata,uploadPath+<span class="string">"/"</span>, newFileName.toLowerCase());
        <span class="keyword">String</span> path = ServletActionContext.getServletContext().getContextPath();
        path1 = baseurl + path + path1;            
      }
        <span class="keyword">try</span> {
            ServletActionContext.getResponse().getWriter().write(json);
        } <span class="keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
      <span class="keyword">return</span> <span class="keyword">null</span>;
 }
</code></pre><p>页面效果如图：<br><img src="http://ww2.sinaimg.cn/large/0063lLoQgw1ex8lyaxc1tj307v06y3yt.jpg" alt="大功告成"></p>
]]></content>
    <summary type="html">
    <![CDATA[<h1 id="背景">背景</h1><p>前面项目中使用的是ajaxfileupload作为上传工具我感觉这个工具不是很方便，而且很多参数校验要到后台去处理，扩展性和可维护性低。我希望有一个插件在前台做更多的校验，不需要到后台做检验。这个时候<a href="http://fex.baidu.com/webuploader/">webuploader</a>出来了。并且极为重要的一点是支持跨域上传文件或者图片。</p>]]>
    
    </summary>
    
      <category term="webuploader" scheme="http://blog.chen777.com/tags/webuploader/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[markdown其他用法]]></title>
    <link href="http://blog.chen777.com/2015/10/16/markdown%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95/"/>
    <id>http://blog.chen777.com/2015/10/16/markdown其他用法/</id>
    <published>2015-10-16T01:15:56.000Z</published>
    <updated>2015-10-16T03:00:22.414Z</updated>
    <content type="html"><![CDATA[<p>我用markdown写博客的时候感觉有点力不从心，还不如html好写，当初是这么感觉的，我想要强调一下字体的大小啊，颜色啊，markdown虽然都有，但是又不是很灵活，后来仔细看文档发现其实Markdown兼容 HTML，所以需要一定的html基础。还是今天我特意留下这篇博客记录它的一些其他用法，<a href="http://www.cnblogs.com/rossoneri/p/4446440.html#_label10" target="_blank" rel="external">基本语法</a>不做介绍.<br><a id="more"></a></p>
<p>这个是字体的：<a href="http://www.bubuko.com/infodetail-826462.html" target="_blank" rel="external">字体设置</a><br><br><strong>强调字体</strong> </p><p style="color:red;font-size:20px;">字体颜色大小设置</p><p><br>图片大小宽度高度也可以使用img标签转换<img src="" width="" height="">这种格式<br><a href="http://wuchong.me/blog/2014/12/13/hexo-theme-creating-image-styles/" target="_blank" rel="external">图片使用</a><br>暂时我只使用到这些。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>我用markdown写博客的时候感觉有点力不从心，还不如html好写，当初是这么感觉的，我想要强调一下字体的大小啊，颜色啊，markdown虽然都有，但是又不是很灵活，后来仔细看文档发现其实Markdown兼容 HTML，所以需要一定的html基础。还是今天我特意留下这篇博客记录它的一些其他用法，<a href="http://www.cnblogs.com/rossoneri/p/4446440.html#_label10">基本语法</a>不做介绍.<br>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://blog.chen777.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[hexo字体问题]]></title>
    <link href="http://blog.chen777.com/2015/10/15/hexo%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98/"/>
    <id>http://blog.chen777.com/2015/10/15/hexo字体问题/</id>
    <published>2015-10-15T09:36:21.000Z</published>
    <updated>2015-10-19T02:15:06.996Z</updated>
    <content type="html"><![CDATA[<p>hexo字体问题困扰了我好久了，我按照官方文档<a href="http://theme-next.iissnan.com/faqs.html#自定义字体" target="_blank" rel="external">http://theme-next.iissnan.com/faqs.html#自定义字体</a>设置了也没用，然后也自己折腾了半天就是没有效果，原来是需要<font color="red">hexo clean</font>一下然后重新提交部署到git才生效,很多实用next主题的也有这个问题.<br><a id="more"></a></p>
<p>先看图片对面文字<br><img src="http://ww1.sinaimg.cn/large/0063lLoQgw1ex1yo34wbnj30uz0prtdv.jpg?300*12" alt="图1" title="图1"></p>
<p><img src="http://ww4.sinaimg.cn/large/0063lLoQgw1ex1yoe8cmbj30wb0qrwjn.jpg?300*22" alt="图2" title="图2"></p>
<p>字体对面图中的文字，有区别的而且感觉第一的文字和图二真是差太多感觉非常不好。</p>
<p>有2中方法可以解决这个问题。<br>第一种：<br>找到安装目录hexo的E:\hexo\themes\next\source\css_variables\base.styl<br>修改第56行，改为</p>
<pre><code><span class="variable">$font-family-chinese</span>      = <span class="string">"Microsoft YaHei"</span> , <span class="string">"Microsoft Jhenghei"</span>, <span class="string">"Hiragino Sans GB"</span>
</code></pre><p>然后<font color="red">hexo clean</font>,hexo d--g 就好了。<br>第二种：<br>按照文档的<a href="http://theme-next.iissnan.com/faqs.html#自定义字体" target="_blank" rel="external">http://theme-next.iissnan.com/faqs.html#自定义字体</a>设置自己喜欢的字体，然后<font color="red">hexo clean</font>,hexo d--g 就好了。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>hexo字体问题困扰了我好久了，我按照官方文档<a href="http://theme-next.iissnan.com/faqs.html#自定义字体">http://theme-next.iissnan.com/faqs.html#自定义字体</a>设置了也没用，然后也自己折腾了半天就是没有效果，原来是需要<font color='red'>hexo clean</font>一下然后重新提交部署到git才生效,很多实用next主题的也有这个问题.<br>]]>
    
    </summary>
    
      <category term="hexo" scheme="http://blog.chen777.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[富文本编辑器]]></title>
    <link href="http://blog.chen777.com/2015/10/14/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    <id>http://blog.chen777.com/2015/10/14/富文本编辑器/</id>
    <published>2015-10-14T03:12:33.000Z</published>
    <updated>2015-10-14T08:17:44.470Z</updated>
    <content type="html"><![CDATA[<p>今天学弟需要用到富文本编辑器@喜子，写一下基本用法做备份，我使用的是xheditor官方地址：<a href="http://xheditor.com/" target="_blank" rel="external">http://xheditor.com/</a></p>
<blockquote>
<p>在线HTML编辑器就是在线编辑HTML代码的工具，它经常被应用于留言板留言、论坛发贴、Blog编写日志或等需要用户输入HTML的地方，是Web应用的常用模块之一。在线HTML编辑器可以实现对编辑内容添加各种丰富多彩的文字效果，以及提供各种方便快捷的操作功能，最大的提高编辑工作效率。在线HTML编辑器是任何网站不可或缺的重要功能组件，是互联网用户得心应手的驰骋网络的有力工具。<br><a id="more"></a></p>
</blockquote>
<p>废话不多说直接贴代码：</p>
<pre><code><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">html</span>&gt;</span>
    <span class="tag">&lt;<span class="title">head</span>&gt;</span>
        <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">title</span>&gt;</span>xheditor<span class="tag">&lt;/<span class="title">title</span>&gt;</span>

        <span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>&gt;</span><span class="css">
        <span class="class">.videoClassName</span> <span class="rules">{
            <span class="rule"><span class="attribute">background</span>:<span class="value"> transparent <span class="function">url</span>(img/video_icon_1.png) no-repeat
                <span class="number">20px</span> <span class="number">20px</span></span></span>;
            <span class="rule"><span class="attribute">background-position</span>:<span class="value"> <span class="number">3px</span> <span class="number">3px</span></span></span>;
        }</span>
        </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"js/jquery-1.7.2.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"js/xheditor/xheditor-1.1.14-zh-cn.min.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
        <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"js/test.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">head</span>&gt;</span>
    <span class="tag">&lt;<span class="title">body</span>&gt;</span>
        <span class="tag">&lt;<span class="title">textarea</span>  <span class="attribute">id</span>=<span class="value">"elm2"</span> <span class="attribute">style</span>=<span class="value">"width: 900px; height: 300px;"</span> <span class="attribute">rows</span>=<span class="value">"100"</span> <span class="attribute">cols</span>=<span class="value">"50"</span>&gt;</span><span class="tag">&lt;/<span class="title">textarea</span>&gt;</span> <span class="comment">&lt;!-- 富文本编辑器如果需要一键格式化功能，则要加入此div --&gt;</span>
        <span class="tag">&lt;<span class="title">br</span> /&gt;</span>
        <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"button"</span> <span class="attribute">id</span>=<span class="value">"submitForm"</span> <span class="attribute">value</span>=<span class="value">"提交"</span>/&gt;</span>
    <span class="tag">&lt;/<span class="title">body</span>&gt;</span>
<span class="tag">&lt;/<span class="title">html</span>&gt;</span>
</code></pre><p>test.js:</p>
<pre><code>$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
<span class="keyword">var</span> plugins = {
        video:{c:<span class="string">'videoClassName'</span>,t:<span class="string">'录入视频(Ctrl+7)'</span>,s:<span class="string">'ctrl+7'</span>,i:<span class="function"><span class="keyword">function</span>(<span class="params">editor</span>)</span>{
            <span class="comment">//editor.setSource('test');</span>
        },e:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
            initVideoWin();
        }}            
}
<span class="keyword">var</span> editor=$(<span class="string">'#elm2'</span>).xheditor({
    tools:<span class="string">'Blocktag,Fontface,FontSize,Bold,Italic,Underline,Strikethrough,FontColor,BackColor,|,SelectAll,Removeformat,|,Align,|,List,Outdent,Indent,|,Link,Unlink,|,Img,|,Table,Source,Fullscreen,test1,Code,Hr,video'</span>,
    skin:<span class="string">'vista'</span>,
    upBtnText:<span class="string">' 上传 '</span>,
    html5Upload:<span class="literal">false</span>,
    upMultiple:<span class="string">'1'</span>,
    upLinkUrl:<span class="string">'admin/info/upload.action?_charset_=utf-8'</span>,
    upLinkExt:<span class="string">'jpeg,jpg,png,gif'</span>,
    **upImgUrl:<span class="string">'admin/info/upload.action'</span>,**
    upImgExt:<span class="string">'jpeg,jpg,png,gif'</span>,
    cleanPaste:<span class="number">2</span>,
    forcePtag:<span class="literal">true</span>,
    Pastetext:<span class="literal">true</span>,
    formatXHTML:<span class="literal">true</span>,
    plugins:plugins
    }); 
})

$(<span class="string">'#submitForm'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
    <span class="keyword">var</span> sHtml=editor.getSource();
    <span class="keyword">var</span> test=editor.formatXHTML(sHtml);
});
</code></pre><p>mysql数据库使用的是text类型，插件上传图片upImgUrl这个是你controller里面写的上传方法。</p>
<p>压缩包：<a href="http://pan.baidu.com/s/1kTF6PW7" target="_blank" rel="external">http://pan.baidu.com/s/1kTF6PW7</a>  /mk5a</p>
<p>分享过期之后你可以联系我索取。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>今天学弟需要用到富文本编辑器@喜子，写一下基本用法做备份，我使用的是xheditor官方地址：<a href="http://xheditor.com/">http://xheditor.com/</a></p>
<blockquote>
<p>在线HTML编辑器就是在线编辑HTML代码的工具，它经常被应用于留言板留言、论坛发贴、Blog编写日志或等需要用户输入HTML的地方，是Web应用的常用模块之一。在线HTML编辑器可以实现对编辑内容添加各种丰富多彩的文字效果，以及提供各种方便快捷的操作功能，最大的提高编辑工作效率。在线HTML编辑器是任何网站不可或缺的重要功能组件，是互联网用户得心应手的驰骋网络的有力工具。<br>]]>
    
    </summary>
    
      <category term="xheditor" scheme="http://blog.chen777.com/tags/xheditor/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Java与C#AES加密解密]]></title>
    <link href="http://blog.chen777.com/2015/10/13/Java%E4%B8%8EC-AES%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86/"/>
    <id>http://blog.chen777.com/2015/10/13/Java与C-AES加密解密/</id>
    <published>2015-10-13T02:54:08.000Z</published>
    <updated>2015-10-14T08:20:54.008Z</updated>
    <content type="html"><![CDATA[<p>Java与C#AES加密解密，曾经做过特此留下来备份.<br><a id="more"></a></p>
<p><em>C#</em></p>
<pre><code><span class="preprocessor">#<span class="keyword">region</span> AES加解密  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span>AES加密（加密步骤）  </span>
   <span class="comment"><span class="xmlDocTag">///</span>1，加密字符串得到2进制数组；  </span>
   <span class="comment"><span class="xmlDocTag">///</span>2，将2禁止数组转为16进制；  </span>
   <span class="comment"><span class="xmlDocTag">///</span>3，进行base64编码  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;param name="toEncrypt"&gt;</span>要加密的字符串<span class="xmlDocTag">&lt;/param&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;param name="key"&gt;</span>密钥<span class="xmlDocTag">&lt;/param&gt;</span>  </span>
   <span class="function"><span class="keyword">public</span> String <span class="title">Encrypt</span>(<span class="params">String toEncrypt, String key</span>)   
   </span>{  
       Byte[] _Key = Encoding.ASCII.GetBytes(key);  
       Byte[] _Source = Encoding.UTF8.GetBytes(toEncrypt);  

       Aes aes = Aes.Create(<span class="string">"AES"</span>);  
       aes.Mode = CipherMode.ECB;  
       aes.Padding = PaddingMode.PKCS7;  
       aes.Key = _Key;  
       ICryptoTransform cTransform = aes.CreateEncryptor();  
       Byte[] cryptData = cTransform.TransformFinalBlock(_Source, <span class="number">0</span>, _Source.Length);  
       String HexCryptString = Hex_2To16(cryptData);  
       Byte[] HexCryptData = Encoding.UTF8.GetBytes(HexCryptString);  
       String CryptString =Convert.ToBase64String(HexCryptData);  
       <span class="keyword">return</span> CryptString;  
   }  

   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> AES解密（解密步骤）  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 1，将BASE64字符串转为16进制数组  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 2，将16进制数组转为字符串  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 3，将字符串转为2进制数据  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 4，用AES解密数据  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;param name="encryptedSource"&gt;</span>已加密的内容<span class="xmlDocTag">&lt;/param&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;param name="key"&gt;</span>密钥<span class="xmlDocTag">&lt;/param&gt;</span>  </span>
   <span class="function"><span class="keyword">public</span> String <span class="title">Decrypt</span>(<span class="params"><span class="keyword">string</span> encryptedSource, <span class="keyword">string</span> key</span>)  
   </span>{  
       Byte[] _Key = Encoding.ASCII.GetBytes(key);  
       Aes aes = Aes.Create(<span class="string">"AES"</span>);  
       aes.Mode = CipherMode.ECB;  
       aes.Padding = PaddingMode.PKCS7;  
       aes.Key = _Key;  
       ICryptoTransform cTransform = aes.CreateDecryptor();  

       Byte[] encryptedData = Convert.FromBase64String(encryptedSource);  
       String encryptedString = Encoding.UTF8.GetString(encryptedData);  
       Byte[] _Source = Hex_16To2(encryptedString);  
       Byte[] originalSrouceData = cTransform.TransformFinalBlock(_Source, <span class="number">0</span>, _Source.Length);  
       String originalString = Encoding.UTF8.GetString(originalSrouceData);  
       <span class="keyword">return</span> originalString;  
   }  

   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 2进制转16进制  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span>  </span>
   <span class="function">String <span class="title">Hex_2To16</span>(<span class="params">Byte[] bytes</span>)  
   </span>{  
       String hexString = String.Empty;  
       Int32 iLength = <span class="number">65535</span>;  
       <span class="keyword">if</span> (bytes != <span class="keyword">null</span>)  
       {  
           StringBuilder strB = <span class="keyword">new</span> StringBuilder();  

           <span class="keyword">if</span> (bytes.Length &lt; iLength)  
           {  
               iLength = bytes.Length;  
           }  

           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iLength; i++)  
           {  
               strB.Append(bytes[i].ToString(<span class="string">"X2"</span>));  
           }  
           hexString = strB.ToString();  
       }  
       <span class="keyword">return</span> hexString;  
   }  

   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;summary&gt;</span>  </span>
   <span class="comment"><span class="xmlDocTag">///</span> 16进制转2进制  </span>
   <span class="comment"><span class="xmlDocTag">///</span> <span class="xmlDocTag">&lt;/summary&gt;</span>  </span>
   Byte[] Hex_16To2(String hexString)  
   {  
       <span class="keyword">if</span> ((hexString.Length % <span class="number">2</span>) != <span class="number">0</span>)  
       {  
           hexString += <span class="string">" "</span>;  
       }  
       Byte[] returnBytes = <span class="keyword">new</span> Byte[hexString.Length / <span class="number">2</span>];  
       <span class="keyword">for</span> (Int32 i = <span class="number">0</span>; i &lt; returnBytes.Length; i++)  
       {  
           returnBytes[i] = Convert.ToByte(hexString.Substring(i * <span class="number">2</span>, <span class="number">2</span>), <span class="number">16</span>);  
       }  
       <span class="keyword">return</span> returnBytes;  
   }  
   <span class="preprocessor">#<span class="keyword">endregion</span>  </span>
</code></pre><p><em>java</em></p>
<pre><code><span class="keyword">package</span> com.palic.pss.afcs.worldthrough.common.util;

<span class="keyword">import</span> javax.crypto.Cipher;
<span class="keyword">import</span> javax.crypto.spec.SecretKeySpec;

<span class="keyword">import</span> repack.com.thoughtworks.xstream.core.util.Base64Encoder;
<span class="comment">/**
 * AES加密解密
 * @author
 *
 */</span>
<span class="keyword">public</span> class AesUtils {
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> cKey= <span class="string">"assistant7654321"</span>;
      <span class="comment">/** 
     * 加密--把加密后的byte数组先进行二进制转16进制在进行base64编码 
     * @param sSrc 
     * @param sKey 
     * @return 
     * @throws Exception 
     */</span>  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> encrypt(<span class="keyword">String</span> sSrc, <span class="keyword">String</span> sKey) <span class="keyword">throws</span> Exception {  
        <span class="keyword">if</span> (sKey == <span class="keyword">null</span>) {  
            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"Argument sKey is null."</span>);  
        }  
        <span class="keyword">if</span> (sKey.length() != <span class="number">16</span>) {  
            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(  
                    <span class="string">"Argument sKey'length is not 16."</span>);  
        }  
        <span class="built_in">byte</span>[] raw = sKey.getBytes(<span class="string">"ASCII"</span>);  
        SecretKeySpec skeySpec = <span class="keyword">new</span> SecretKeySpec(raw, <span class="string">"AES"</span>);  

        Cipher cipher = Cipher.getInstance(<span class="string">"AES"</span>);  
        cipher.init(Cipher.ENCRYPT_MODE, skeySpec);  

        <span class="built_in">byte</span>[] encrypted = cipher.doFinal(sSrc.getBytes(<span class="string">"UTF-8"</span>));  
        <span class="keyword">String</span> tempStr = parseByte2HexStr(encrypted);  

        Base64Encoder encoder = <span class="keyword">new</span> Base64Encoder();  
        <span class="keyword">return</span> encoder.encode(tempStr.getBytes(<span class="string">"UTF-8"</span>));  
    }  

    <span class="comment">/** 
     *解密--先 进行base64解码，在进行16进制转为2进制然后再解码 
     * @param sSrc 
     * @param sKey 
     * @return 
     * @throws Exception 
     */</span>  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> decrypt(<span class="keyword">String</span> sSrc, <span class="keyword">String</span> sKey) <span class="keyword">throws</span> Exception {  

        <span class="keyword">if</span> (sKey == <span class="keyword">null</span>) {  
            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"499"</span>);  
        }  
        <span class="keyword">if</span> (sKey.length() != <span class="number">16</span>) {  
            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"498"</span>);  
        }  

        <span class="built_in">byte</span>[] raw = sKey.getBytes(<span class="string">"ASCII"</span>);  
        SecretKeySpec skeySpec = <span class="keyword">new</span> SecretKeySpec(raw, <span class="string">"AES"</span>);  

        Cipher cipher = Cipher.getInstance(<span class="string">"AES"</span>);  
        cipher.init(Cipher.DECRYPT_MODE, skeySpec);  

        Base64Encoder encoder = <span class="keyword">new</span> Base64Encoder();  
        <span class="built_in">byte</span>[] encrypted1 = encoder.decode(sSrc);  

        <span class="keyword">String</span> tempStr = <span class="keyword">new</span> <span class="keyword">String</span>(encrypted1, <span class="string">"utf-8"</span>);  
        encrypted1 = parseHexStr2Byte(tempStr);  
        <span class="built_in">byte</span>[] original = cipher.doFinal(encrypted1);  
        <span class="keyword">String</span> originalString = <span class="keyword">new</span> <span class="keyword">String</span>(original, <span class="string">"utf-8"</span>);  
        <span class="keyword">return</span> originalString;  
    }  

    <span class="comment">/** 
     * 将二进制转换成16进制 
     *  
     * @param buf 
     * @return 
     */</span>  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> parseByte2HexStr(<span class="built_in">byte</span> buf[]) {  
        StringBuffer sb = <span class="keyword">new</span> StringBuffer();  
        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; buf.length; i++) {  
            <span class="keyword">String</span> <span class="built_in">hex</span> = Integer.toHexString(buf[i] &amp; <span class="number">0xFF</span>);  
            <span class="keyword">if</span> (<span class="built_in">hex</span>.length() == <span class="number">1</span>) {  
                <span class="built_in">hex</span> = <span class="string">'0'</span> + <span class="built_in">hex</span>;  
            }  
            sb.<span class="built_in">append</span>(<span class="built_in">hex</span>.toUpperCase());  
        }  
        <span class="keyword">return</span> sb.toString();  
    }  

    <span class="comment">/** 
     * 将16进制转换为二进制 
     *  
     * @param hexStr 
     * @return 
     */</span>  
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">byte</span>[] parseHexStr2Byte(<span class="keyword">String</span> hexStr) {  
        <span class="keyword">if</span> (hexStr.length() &lt; <span class="number">1</span>)  
            <span class="keyword">return</span> <span class="keyword">null</span>;  
        <span class="built_in">byte</span>[] result = <span class="keyword">new</span> <span class="built_in">byte</span>[hexStr.length() / <span class="number">2</span>];  
        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; hexStr.length() / <span class="number">2</span>; i++) {  
            <span class="built_in">int</span> high = Integer.parseInt(hexStr.substring(i * <span class="number">2</span>, i * <span class="number">2</span> + <span class="number">1</span>), <span class="number">16</span>);  
            <span class="built_in">int</span> low = Integer.parseInt(hexStr.substring(i * <span class="number">2</span> + <span class="number">1</span>, i * <span class="number">2</span> + <span class="number">2</span>),  
                    <span class="number">16</span>);  
            result[i] = (<span class="built_in">byte</span>) (high * <span class="number">16</span> + low);  
        }  
        <span class="keyword">return</span> result;  
    } 
    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) <span class="keyword">throws</span> Exception {
        <span class="comment">/*
         * 加密用的Key 可以用26个字母和数字组成，最好不要用保留字符，虽然不会错，至于怎么裁决，个人看情况而定
         */</span>
        <span class="keyword">String</span> cKey = <span class="string">"assistant7654321"</span>;
        <span class="comment">// 需要加密的字串</span>
        <span class="keyword">String</span> cSrc = <span class="string">"123456"</span>;
        <span class="comment">// 加密</span>
        <span class="keyword">long</span> lStart = System.currentTimeMillis();
        <span class="keyword">String</span> enString = encrypt(cSrc, cKey);
        System.out.<span class="built_in">println</span>(<span class="string">"加密后的字串是："</span> + enString);
        <span class="keyword">long</span> lUseTime = System.currentTimeMillis() - lStart;
        System.out.<span class="built_in">println</span>(<span class="string">"加密耗时："</span> + lUseTime + <span class="string">"毫秒"</span>);
        <span class="comment">// 解密</span>
        lStart = System.currentTimeMillis();
        <span class="keyword">String</span> DeString = decrypt(enString, cKey);
        System.out.<span class="built_in">println</span>(<span class="string">"解密后的字串是："</span> + DeString);
        lUseTime = System.currentTimeMillis() - lStart;
        System.out.<span class="built_in">println</span>(<span class="string">"解密耗时："</span> + lUseTime + <span class="string">"毫秒"</span>);
    }
}
</code></pre><p>附上百度云盘链接地址：链接：<a href="http://pan.baidu.com/s/1pJout5L" target="_blank" rel="external">http://pan.baidu.com/s/1pJout5L</a> （密码：y4bd）</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Java与C#AES加密解密，曾经做过特此留下来备份.<br>]]>
    
    </summary>
    
      <category term="AES" scheme="http://blog.chen777.com/tags/AES/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开发工具]]></title>
    <link href="http://blog.chen777.com/2015/10/12/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    <id>http://blog.chen777.com/2015/10/12/开发工具/</id>
    <published>2015-10-12T06:57:43.000Z</published>
    <updated>2015-10-15T07:18:44.966Z</updated>
    <content type="html"><![CDATA[<p>工欲善其事必先利其器，每个coder的都有自己偏执的工具， 我介绍一下我使用的工具(eclipse,notepad++,secureCRT,navicat,HBuild),一般都是解压即可用，压缩包里面会有使用介绍。</p>
<a id="more"></a>
<p>eclipse：<a href="http://www.eclipse.org/downloads/" target="_blank" rel="external">http://www.eclipse.org/downloads/</a></p>
<p>我使用的eclipse：<a href="http://pan.baidu.com/s/1C1yKA" target="_blank" rel="external">http://pan.baidu.com/s/1C1yKA</a>  /nsvj</p>
<p>chrome:<a href="http://chromecj.com/chrome/2014-09/177/download.html" target="_blank" rel="external">http://chromecj.com/chrome/2014-09/177/download.html</a></p>
<p>文本编辑器用的notepad++，世面上有很多文本编辑器editplus，uedit等。<br>notepad++:<a href="http://pan.baidu.com/s/1dDhTgwp" target="_blank" rel="external">http://pan.baidu.com/s/1dDhTgwp</a>  /d350</p>
<p>反编译工具：<a href="http://pan.baidu.com/s/1pJH09gZ" target="_blank" rel="external">http://pan.baidu.com/s/1pJH09gZ</a>  /640h</p>
<p>SecureCRT:<a href="http://pan.baidu.com/s/1kTJAAxh" target="_blank" rel="external">http://pan.baidu.com/s/1kTJAAxh</a>  /ddog</p>
<p>navicat for mysql:<a href="http://pan.baidu.com/s/15FO8Q" target="_blank" rel="external">http://pan.baidu.com/s/15FO8Q</a>   /fpw2</p>
<p>偶尔兼职做一下页面的开发或者调试一下JS，网页工具有runjs，我下了一个HBuilder，支持原创.<br>HBuilder:<a href="http://www.dcloud.io/" target="_blank" rel="external">http://www.dcloud.io/</a></p>
<p>听歌以前用的酷狗，用久了感觉没新意了(其实就是听到了好歌没有地方抒发情感)，换了一个网易云音乐.</p>
<p>文本比较工具：Beyond Compare11，解压即可。<a href="http://pan.baidu.com/s/1eQ4RCrg" target="_blank" rel="external">http://pan.baidu.com/s/1eQ4RCrg</a>  /es9x</p>
<p>基本开发工具就是这些了。</p>
<p>so 附上我喜欢的music:<a href="http://music.163.com/#/m/playlist?id=111665824" target="_blank" rel="external">http://music.163.com/#/m/playlist?id=111665824</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>工欲善其事必先利其器，每个coder的都有自己偏执的工具， 我介绍一下我使用的工具(eclipse,notepad++,secureCRT,navicat,HBuild),一般都是解压即可用，压缩包里面会有使用介绍。</p>]]>
    
    </summary>
    
      <category term="工具" scheme="http://blog.chen777.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[程序员必备之机械键盘]]></title>
    <link href="http://blog.chen777.com/2015/10/10/jianpan/"/>
    <id>http://blog.chen777.com/2015/10/10/jianpan/</id>
    <published>2015-10-10T03:13:31.000Z</published>
    <updated>2015-10-10T03:24:12.224Z</updated>
    <content type="html"><![CDATA[<p>最近入手了一款青轴机械键盘，虽然价格有点贵（相比于普通的键盘），但是还是很爽的哈。噼里啪啦的手感以及好看的外观，干活都持久了。<br>我买的是达尔优的青轴，有人说青轴吵，买茶轴或红轴，我个人推荐青轴。<br>我是手残档，图片拍的不好 凑合看。<br><a id="more"></a><br><img src="http://ww2.sinaimg.cn/large/0063lLoQgw1ewvvh38ayjj31kw16ok8b.jpg" alt=""><br><img src="http://ww2.sinaimg.cn/large/0063lLoQgw1ewvvhsubjnj31kw16o18n.jpg" alt=""><br><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewvvi0ixetj31kw16oh4t.jpg" alt=""></p>
<p>链接：<a href="http://item.jd.com/1365181.html" target="_blank" rel="external">http://item.jd.com/1365181.html</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>最近入手了一款青轴机械键盘，虽然价格有点贵（相比于普通的键盘），但是还是很爽的哈。噼里啪啦的手感以及好看的外观，干活都持久了。<br>我买的是达尔优的青轴，有人说青轴吵，买茶轴或红轴，我个人推荐青轴。<br>我是手残档，图片拍的不好 凑合看。<br>]]>
    
    </summary>
    
      <category term="机械键盘" scheme="http://blog.chen777.com/tags/%E6%9C%BA%E6%A2%B0%E9%94%AE%E7%9B%98/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[ajaxfileupload图片上传]]></title>
    <link href="http://blog.chen777.com/2015/09/28/ajaxfileupload%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/"/>
    <id>http://blog.chen777.com/2015/09/28/ajaxfileupload图片上传/</id>
    <published>2015-09-28T02:00:32.000Z</published>
    <updated>2015-10-21T03:29:36.695Z</updated>
    <content type="html"><![CDATA[<p><img src="http://ww1.sinaimg.cn/large/0063lLoQgw1ewhxyxv3rjj30vb0mrgoi.jpg" alt=""></p>
<p><strong>封面图</strong></p>
<p>我这里使用的是ajaxfileupload控件做的上传，引用的CSS JS如图<img src="http://ww1.sinaimg.cn/large/0063lLoQgw1ewhz3u3ppqj30sy09yjze.jpg" alt=""><br>下载地址：<a href="http://url.cn/SP3S7c" target="_blank" rel="external">http://url.cn/SP3S7c</a><br>没有的去网上对应找就可以的，topic-update.js是业务的JS其他的全是插件,各位看官酌情添加。<br>JSP页面：</p>
<pre><code><span class="tag">&lt;<span class="title">tr</span>&gt;</span>
    <span class="tag">&lt;<span class="title">th</span> <span class="attribute">width</span>=<span class="value">"120px"</span> <span class="attribute">align</span>=<span class="value">"right"</span> <span class="attribute">nowrap</span>=<span class="value">"nowrap"</span>&gt;</span>封面图：<span class="tag">&lt;/<span class="title">th</span>&gt;</span>
        <span class="tag">&lt;<span class="title">td</span> <span class="attribute">colspan</span>=<span class="value">"5"</span> <span class="attribute">nowrap</span>=<span class="value">"nowrap"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"file"</span> <span class="attribute">id</span>=<span class="value">"imgUploadBtn"</span> <span class="attribute">style</span>=<span class="value">"width: 180px;"</span> /&gt;</span>
            <span class="tag">&lt;<span class="title">a</span> <span class="attribute">id</span>=<span class="value">"btnUpLoadImg"</span> <span class="attribute">href</span>=<span class="value">"javaScript:void(0);"</span> <span class="attribute">class</span>=<span class="value">"easyui-linkbutton"</span> <span class="attribute">style</span>=<span class="value">"width: 50px; height: 22px"</span>&gt;</span>上传<span class="tag">&lt;/<span class="title">a</span>&gt;</span>(宽&gt;=540）
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"showImgDiv"</span> <span class="attribute">align</span>=<span class="value">"left"</span>&gt;</span>
                                <span class="tag">&lt;<span class="title">img</span> <span class="attribute">id</span>=<span class="value">"imgUrl"</span> <span class="attribute">onload</span>=<span class="value">"JsUtils.autoResizeImage(300,100,this)"</span> /&gt;</span>
                            <span class="tag">&lt;/<span class="title">div</span>&gt;</span> <span class="tag">&lt;<span class="title">s:textfield</span> <span class="attribute">id</span>=<span class="value">"imgUrlIn"</span> <span class="attribute">type</span>=<span class="value">"hidden"</span> /&gt;</span>
            <span class="tag">&lt;/<span class="title">td</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">tr</span>&gt;</span>
</code></pre><p>topic-upadte.js:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">uploadImg</span>(<span class="params"></span>)</span>{
     $.ajaxFileUpload( {
            url : <span class="string">'admin/info/upload.action'</span>, <span class="comment">//需要链接到服务器地址</span>
            secureuri : <span class="literal">false</span>,
            fileElementId : <span class="string">'imgUploadBtn'</span>, <span class="comment">//文件选择框的id属性 name</span>
            width:<span class="number">540</span>,
            height:<span class="number">0</span>,
            dataType : <span class="string">'text'</span>, 
            success : <span class="function"><span class="keyword">function</span>(<span class="params">data, status</span>)</span>{
                <span class="keyword">var</span> jsonData = strToJson(data);
                <span class="keyword">if</span>(jsonData.err)
                {
                    $.messager.alert(<span class="string">'温馨提示'</span>,jsonData.err,<span class="string">'warning'</span>);
                }
                <span class="keyword">else</span>
                {
                    <span class="keyword">var</span> url = jsonData.msg.url;
                    $(<span class="string">"#imgUrl"</span>).attr(<span class="string">"src"</span>,url);
                    imgUrl = url;
                    $(<span class="string">"#imgUrlIn"</span>).val(url);
                }
        }
    });
}
</code></pre><p>action：<em>filedata,filedataFileName,fileWidth,fileHeight getter/setter省略</em></p>
<pre><code>/**
 * 图片上传
 */
public void uploadImg(){
    topicSerivice.upload(filedata,filedataFileName,fileWidth,fileHeight)<span class="comment">;</span>
}

    public <span class="built_in">String</span> upload(File filedata, <span class="built_in">String</span> fileName, <span class="built_in">int</span> fileWidth,
        <span class="built_in">int</span> fileHeight) {
    ServletActionContext.getResponse().setContentType(<span class="string">"text/html; charset=utf-8"</span>)<span class="comment">;</span>
    <span class="built_in">String</span> json= <span class="string">""</span><span class="comment">;</span>
      <span class="built_in">String</span> path1=<span class="string">""</span><span class="comment">;</span>
      <span class="keyword">if</span>(filedata!=<span class="literal">null</span>){

        // 获取缩略图保存的文件夹
        <span class="built_in">String</span> filePath = PropertyUtils.getProperty(<span class="string">"temp"</span>)<span class="comment">;</span>
            // 获取网站基础路径
        <span class="built_in">String</span> baseurl = PropertyUtils.getProperty(<span class="string">"baseurl"</span>)<span class="comment">;</span>

        // 获取到文件的绝对路径
        <span class="built_in">String</span> fd = DateUtil.formatDate(new Date(), <span class="string">"yyyyMMdd"</span>)<span class="comment">;</span>
        <span class="built_in">String</span> uploadPath =  filePath + fd<span class="comment">;</span>
        <span class="built_in">String</span> newFileName = System.nanoTime()
                + UploadFileUtil.getFileName(fileName)<span class="comment">;</span>
        path1 = UploadFileUtil.uploadFileInfo(filedata,uploadPath+<span class="string">"/"</span>, newFileName.toLowerCase())<span class="comment">;</span>
        <span class="built_in">String</span> path = ServletActionContext.getServletContext().getContextPath()<span class="comment">;</span>
        path1 = baseurl + path + path1<span class="comment">;            </span>
      }
     /* <span class="built_in">String</span> tempWH=path1.substring(path1.indexOf(<span class="string">"?"</span>)+<span class="number">1</span>)<span class="comment">;</span>
        <span class="keyword">if</span>(tempWH.indexOf(<span class="string">"*"</span>)&gt;<span class="number">0</span>){
            <span class="built_in">String</span> _width=tempWH.substring(<span class="number">0</span>,tempWH.indexOf(<span class="string">"*"</span>))<span class="comment">;</span>
            <span class="built_in">String</span> _height=tempWH.substring(tempWH.indexOf(<span class="string">"*"</span>)+<span class="number">1</span>)<span class="comment">;</span>
            <span class="keyword">if</span>(_width.matches(<span class="string">"\\d+"</span>) &amp;&amp; _height.matches(<span class="string">"\\d+"</span>))
            {
                <span class="keyword">if</span>(Integer.parseInt(_width) &lt;= width) 
                {
                    json=<span class="string">"{\"</span>err\<span class="string">":\"</span>宽度需要大于:<span class="string">"+width+"</span>\<span class="string">",\"</span>msg\<span class="string">":{\"</span>url\<span class="string">":\""+path1+"</span>\<span class="string">"}}"</span><span class="comment">;</span>
                }
                <span class="keyword">else</span> <span class="keyword">if</span>(Integer.parseInt(_height) &lt;= height)
                {
                    json=<span class="string">"{\"</span>err\<span class="string">":\"</span>长度需要大于:<span class="string">"+height+"</span>\<span class="string">",\"</span>msg\<span class="string">":{\"</span>url\<span class="string">":\""+path1+"</span>\<span class="string">"}}"</span><span class="comment">;</span>
                }
                <span class="keyword">else</span>
                {
                    json=<span class="string">"{\"</span>err\<span class="string">":\"</span>\<span class="string">",\"</span>msg\<span class="string">":{\"</span>url\<span class="string">":\""+path1+"</span>\<span class="string">"}}"</span><span class="comment">; </span>
                }
            }
        }*/
      json=<span class="string">"{\"</span>err\<span class="string">":\"</span>\<span class="string">",\"</span>msg\<span class="string">":{\"</span>url\<span class="string">":\""+path1+"</span>\<span class="string">"}}"</span><span class="comment">; </span>
        try {
            ServletActionContext.getResponse().getWriter().write(json)<span class="comment">;</span>
        } catch (IOException e) {
            e.printStackTrace()<span class="comment">;</span>
        }
      <span class="keyword">return</span> <span class="literal">null</span><span class="comment">;</span>
}
</code></pre><p>顺便提一句：<a href="http://fex.baidu.com/webuploader/getting-started.html" target="_blank" rel="external">http://fex.baidu.com/webuploader/getting-started.html</a>这个上传插件也不错。大家各取所需。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><img src="http://ww1.sinaimg.cn/large/0063lLoQgw1ewhxyxv3rjj30vb0mrgoi.jpg" alt=""></p>
<p><strong>封面图</strong></p>
<p>我这里使用的是ajaxfileupl]]>
    </summary>
    
      <category term="ajaxfileupload" scheme="http://blog.chen777.com/tags/ajaxfileupload/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[java List remove,contains底层]]></title>
    <link href="http://blog.chen777.com/2015/09/24/java-revmoveAll/"/>
    <id>http://blog.chen777.com/2015/09/24/java-revmoveAll/</id>
    <published>2015-09-24T09:35:29.000Z</published>
    <updated>2015-09-28T08:39:56.276Z</updated>
    <content type="html"><![CDATA[<p>java list remove(Object) removeAll(Collection&lt;?&gt; collection)先看看API介绍<br><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewef5213sgj31610azadb.jpg" alt=""></p>
<p>需要实现其equals，才能remove(Object)，引用下面这篇文章：<br><a href="http://blog.csdn.net/will_awoke/article/details/6528872" target="_blank" rel="external">http://blog.csdn.net/will_awoke/article/details/6528872</a></p>
<p>By the way,contains(Object)也是需要实现其equals方法，源码：</p>
<pre><code><span class="keyword">public</span> <span class="built_in">boolean</span> contains(<span class="keyword">Object</span> obj)
{
    <span class="keyword">return</span> indexOf(obj) &gt;= <span class="number">0</span>;
}

<span class="keyword">public</span> <span class="built_in">int</span> indexOf(<span class="keyword">Object</span> obj)
{
    <span class="keyword">if</span>(obj == <span class="keyword">null</span>)
    {
        <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++)
            <span class="keyword">if</span>(elementData[i] == <span class="keyword">null</span>)
                <span class="keyword">return</span> i;

    } <span class="keyword">else</span>
    {
        <span class="keyword">for</span>(<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">size</span>; j++)
            <span class="keyword">if</span>(obj.equals(elementData[j]))
                <span class="keyword">return</span> j;

    }
    <span class="keyword">return</span> -<span class="number">1</span>;
} 
</code></pre><p>多用反编译查看原理，才能了解其底层 以便更好的优化和操作List.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>java list remove(Object) removeAll(Collection&lt;?&gt; collection)先看看API介绍<br><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewef5213sg]]>
    </summary>
    
      <category term="List" scheme="http://blog.chen777.com/tags/List/"/>
    
      <category term="java" scheme="http://blog.chen777.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[java-sort排序问题]]></title>
    <link href="http://blog.chen777.com/2015/09/23/java-sort/"/>
    <id>http://blog.chen777.com/2015/09/23/java-sort/</id>
    <published>2015-09-23T03:54:20.000Z</published>
    <updated>2015-09-23T07:49:26.743Z</updated>
    <content type="html"><![CDATA[<p>前言：前一阵子接到这样的一个需求修改排序的时候，如果修改其中一个排序，其他的都顺序排列。<br><img src="http://ww2.sinaimg.cn/large/0063lLoQgw1ewce9w7oyvj30fz099771.jpg" alt=""></p>
<p>例如，修改id=328排序为3的改为排序1，则变成如图：<img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewcecgsd9aj30g1096770.jpg" alt=""></p>
<p>思路：首先把需要修改的id=328的数据从list中remove,然后<em>Collections.sort(list);</em>重新排序，再把拿出来的id=328的数据插入相应的位置。然后for循环设置顺序</p>
<p>先说sort方法：</p>
<pre><code><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubscribeDTO</span> <span class="keyword">implements</span> <span class="title">Serializable</span>,<span class="title">Comparable</span>&lt;<span class="title">SubscribeDTO</span>&gt;</span>{
    @Override
    <span class="keyword">public</span> <span class="keyword">int</span> compareTo(SubscribeDTO o) {
        <span class="keyword">if</span>(<span class="keyword">this</span>.<span class="keyword">order</span> == o.getOrder()){
            <span class="keyword">if</span>(o.getUpdateDate()!=<span class="keyword">null</span>){
                <span class="keyword">return</span> (<span class="keyword">int</span>) (o.getUpdateDate().getTime() - <span class="keyword">this</span>.updateDate.getTime());
            }<span class="keyword">else</span>{
                <span class="keyword">return</span> -<span class="number">1</span>;
            }
        }<span class="keyword">else</span>{
            <span class="keyword">return</span> <span class="keyword">this</span>.<span class="keyword">order</span> - o.getOrder();
        }
    }
}
</code></pre><p>在看action代码：</p>
<pre><code><span class="label">for</span> (<span class="keyword">SubscribeDTO </span><span class="keyword">subscribeDTO </span>: <span class="keyword">subList) </span>{
        <span class="preprocessor">if</span>(<span class="keyword">subscribeDTO.getId().equals(id)){
</span>            <span class="keyword">subscribeDTO.setOrder(order);
</span>            <span class="keyword">subscribDTO1=subscribeDTO;
</span>            <span class="keyword">subList.remove(subscribeDTO);
</span>            <span class="keyword">break;
</span>        }
    }

    Collections.sort(<span class="keyword">subList);
</span>    <span class="preprocessor">if</span>(order&lt;<span class="number">=0</span>){
        <span class="keyword">subList.add(0, </span><span class="keyword">subscribDTO1);
</span>    }<span class="preprocessor">else</span> <span class="preprocessor">if</span>(order&gt;<span class="label">=subList</span>.size()+<span class="number">1</span>){
        <span class="keyword">subList.add(subList.size(), </span><span class="keyword">subscribDTO1);
</span>    }<span class="preprocessor">else</span>{
        <span class="keyword">subList.add(order-1, </span><span class="keyword">subscribDTO1);
</span>    }

    for(int i = <span class="number">0</span><span class="comment">; i &lt; subList.size();i++)</span>
    {
        <span class="keyword">subList.get(i).setOrder(i+1);
</span>    }
</code></pre><p>这样就实现了图2所示的例子;</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>前言：前一阵子接到这样的一个需求修改排序的时候，如果修改其中一个排序，其他的都顺序排列。<br><img src="http://ww2.sinaimg.cn/large/0063lLoQgw1ewce9w7oyvj30fz099771.jpg" alt=""></p>
<]]>
    </summary>
    
      <category term="sort" scheme="http://blog.chen777.com/tags/sort/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[hexo遇到的问题]]></title>
    <link href="http://blog.chen777.com/2015/09/22/hexo-question/"/>
    <id>http://blog.chen777.com/2015/09/22/hexo-question/</id>
    <published>2015-09-22T07:05:50.000Z</published>
    <updated>2015-09-23T03:53:25.328Z</updated>
    <content type="html"><![CDATA[<p>搭建hexo走了许多弯路，弯路走了很多，人也变弯了<br><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewb8vpqwuhj301s01sweb.jpg" alt=""><br>今天归纳一下，借鉴：<a href="http://blog.csdn.net/wx_962464/article/details/44786929" target="_blank" rel="external">http://blog.csdn.net/wx_962464/article/details/44786929</a><br>next主题的设定：<a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="external">http://theme-next.iissnan.com/theme-settings.html</a><br>说说我蠢哭的事情，让各位客官高兴高兴吧。</p>
<p>搭建的时候大家都说站点配置文件加入xxxx，我一直不知道是那个配置文件，后来墨迹了十几分钟在另外的博客截图才看到是此_config.yml,然后终于找到的配置文件心里十万匹草利马奔腾，劳资终于找到了，哈哈哈，然后next主题我刚进来的时候是繁体的，这让强迫症的我要死，然后去next主题看，照着弄，就是不对。后来百度错误，原来是没在冒号后面加空格，擦。</p>
<p>然后最近在研究怎么备份，因为hexo始终在本地，如果我换了地方 我改如何继续使用，诶，可怜的我到现在也没有研究出个123，好希望人来支持我(原谅我对git的不理解，搞了很久还是有问题).if you want to help me,you can call QQ 280385556! 3ks</p>
<p>总结一下：照着文档弄博客的时候，好着急，想一口吃一个大胖子，然后着急弄，很多其实博主提到了，我错了无数遍终于看到了这句话。诶。欲速则不达啊。 </p>
]]></content>
    <summary type="html">
    <![CDATA[<p>搭建hexo走了许多弯路，弯路走了很多，人也变弯了<br><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewb8vpqwuhj301s01sweb.jpg" alt=""><br>今天归纳一下，借鉴：<a href="ht]]>
    </summary>
    
      <category term="hexo" scheme="http://blog.chen777.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[fastJson]]></title>
    <link href="http://blog.chen777.com/2015/09/21/fastJson/"/>
    <id>http://blog.chen777.com/2015/09/21/fastJson/</id>
    <published>2015-09-21T01:21:12.000Z</published>
    <updated>2015-09-28T03:49:59.006Z</updated>
    <content type="html"><![CDATA[<p>Fastjson是一个Java语言编写的JSON处理器。<br>1.遵循<a href="http://json.org标准，为其官方网站收录的参考实现之一。" target="_blank" rel="external">http://json.org标准，为其官方网站收录的参考实现之一。</a><br>2.功能强大，支持JDK的各种类型，包括基本的JavaBean、Collection、Map、Date、Enum、泛型。<br>3.无依赖，不需要例外额外的jar，能够直接跑在JDK上。<br>4开源,使用Apache License 2.0协议开源。<a href="http://code.alibabatech.com/wiki/display/FastJSON/Home" target="_blank" rel="external">http://code.alibabatech.com/wiki/display/FastJSON/Home</a></p>
<p>下载地址：<br><a href="http://www.oschina.net/news/58783/fastjson-1-2-4" target="_blank" rel="external">http://www.oschina.net/news/58783/fastjson-1-2-4</a></p>
<p>我的使用场景：<br>由于我是对象嵌套对象，然后在JS里面把json对象转换为json字符串，使用JSON.stringify()方法。然后后台使用JSON.parseObject(String text, Class clazz),把JSON文本parse为JavaBean。</p>
<p>先看bean的结构:<br><strong>topicDTO:</strong></p>
<pre><code><span class="keyword">private</span> <span class="built_in">int</span> id;

<span class="keyword">private</span> <span class="keyword">String</span> topicTitle;        

<span class="keyword">private</span> <span class="keyword">String</span> content;

<span class="keyword">private</span> <span class="keyword">String</span> isBarrage;

*<span class="keyword">private</span> VoteDTO voteDTO*;

<span class="comment">/**
  *getter,setter
  *
   */</span>
</code></pre><p><strong>VoteDTO:</strong></p>
<pre><code><span class="keyword">private</span> <span class="built_in">int</span> id;

<span class="keyword">private</span> <span class="keyword">String</span> voteTitle;

<span class="keyword">private</span> <span class="keyword">String</span> imgUrl;

<span class="keyword">private</span> <span class="keyword">String</span> content;

<span class="comment">/**
  *getter,setter
  *
   */</span>
</code></pre><p><strong>js处理：</strong></p>
<pre><code><span class="keyword">var</span> topicDTO={};
<span class="comment">//and so on</span>
<span class="keyword">var</span> topicDTO.id=$(<span class="string">'#topicId'</span>).val();
<span class="keyword">var</span> topicStr=<span class="built_in">JSON</span>.stringify(topicDTO);
$.post(<span class="string">"admin/topic/saveTopic.action"</span>,
        {topicStr:topicStr}
    , <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{
        <span class="keyword">var</span> status = data.result;
        <span class="keyword">if</span> (status == <span class="string">"success"</span>) {
            $.messager.alert(<span class="string">'信息'</span>, <span class="string">'话题新增成功!'</span>, <span class="string">'info'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{
                close();
            });
        } <span class="keyword">else</span> {
            $.messager.alert(<span class="string">'错误'</span>, <span class="string">'话题新增失败!'</span>, <span class="string">'error'</span>);
        }
    }, <span class="string">"json"</span>);
</code></pre><p><strong>action处理:</strong></p>
<pre><code><span class="built_in">String</span> topicStr=<span class="keyword">this</span>.getRequest().getParameter(<span class="string">"topicStr"</span>);
TopicDTO dto=<span class="built_in">JSON</span>.parseObject(topicStr, topicDTO.getClass()); 
</code></pre><p>此时前台传递的值都在dto对象中，简直是神器。</p>
<p>说说fastJson的JSON.parseObject(String text, Class clazz);<br>前台通过JSON.stringify(rows)传JSON字符串到后台</p>
<pre><code><span class="keyword">var</span> rows=$(<span class="string">'#dbgrid'</span>).datagrid(<span class="string">'getChecked'</span>);
</code></pre><p><em>切记$.post传值千万不要这么写,{</em>rows*，} </p>
<pre><code>$.post(<span class="string">"admin/hotWords/pushHotWordsTable.action"</span>,
        {<span class="string">'rows'</span>,rows}
    , <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>{
    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++) {
        str+=<span class="string">"&lt;tr&gt;&lt;td&gt;"</span>+data[i].hotWords+<span class="string">"&lt;/td&gt;&lt;td&gt;&lt;input type='text' value="</span>+data[i].order+<span class="string">" /&gt;&lt;/td&gt;&lt;/tr&gt;"</span>
    }
    $(<span class="string">'#hotWordsTable'</span>).append(str);
    $(<span class="string">'#hotWordsTableData'</span>).val(data);
    }, <span class="string">"json"</span>);    
</code></pre><p>不然会报错请求不到后台*.<br>后台当然是简单粗暴的:</p>
<pre><code><span class="built_in">String</span> rows= <span class="keyword">this</span>.getRequest().getParameter(<span class="string">"data"</span>);
<span class="built_in">List</span>&lt;HotWordsDTO&gt; hotWordsList =JSON.parseArray(rows, HotWordsDTO.<span class="keyword">class</span>);
</code></pre><p><img src="http://ww3.sinaimg.cn/large/0063lLoQgw1ewb8jgrkvaj30bl07kgm1.jpg" alt=""></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Fastjson是一个Java语言编写的JSON处理器。<br>1.遵循<a href="http://json.org标准，为其官方网站收录的参考实现之一。" target="_blank" rel="external">http://json.org标准，为其官方网站收]]>
    </summary>
    
      <category term="json" scheme="http://blog.chen777.com/tags/json/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[java timer设置]]></title>
    <link href="http://blog.chen777.com/2015/09/18/java-timer/"/>
    <id>http://blog.chen777.com/2015/09/18/java-timer/</id>
    <published>2015-09-18T02:38:44.000Z</published>
    <updated>2015-10-27T01:53:21.051Z</updated>
    <content type="html"><![CDATA[<p>Java自带的java.util.Timer类，通过调度一个java.util.TimerTask任务。<br>基本流程：在web.xml中配置listener调用timer类，timer类实现接口ServletContextListener,调用schedule中task。task中实现业务逻辑。<br><a id="more"></a></p>
<p>TimerManager.java</p>
<pre><code>package com<span class="built_in">.</span>inveno<span class="built_in">.</span>ccs<span class="built_in">.</span>timer;

<span class="keyword">import</span> java<span class="built_in">.</span>util<span class="built_in">.</span>Calendar;
<span class="keyword">import</span> java<span class="built_in">.</span>util<span class="built_in">.</span><span class="built_in">Date</span>;
<span class="keyword">import</span> java<span class="built_in">.</span>util<span class="built_in">.</span>Timer;

<span class="keyword">import</span> javax<span class="built_in">.</span>servlet<span class="built_in">.</span>ServletContextEvent;
<span class="keyword">import</span> javax<span class="built_in">.</span>servlet<span class="built_in">.</span>ServletContextListener;

<span class="keyword">import</span> org<span class="built_in">.</span>apache<span class="built_in">.</span>log4j<span class="built_in">.</span>Logger;

<span class="keyword">import</span> com<span class="built_in">.</span>inveno<span class="built_in">.</span>ccs<span class="built_in">.</span>common<span class="built_in">.</span>util<span class="built_in">.</span>LoggerFactory;

<span class="keyword">public</span> class TimerManager implements ServletContextListener{
    <span class="keyword">public</span> static final Logger <span class="keyword">LOG</span> = LoggerFactory<span class="built_in">.</span>make();

    <span class="comment">//时间间隔(一天)  </span>
    <span class="keyword">private</span> static final long PERIOD_DAY = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>;  

    <span class="keyword">private</span> Timer timer;

    <span class="comment">//容器摧毁</span>
    <span class="keyword">public</span> <span class="literal">void</span> contextDestroyed(ServletContextEvent arg0) {
        timer<span class="built_in">.</span>cancel();

    }

    <span class="comment">//容器初始化</span>
    <span class="keyword">public</span> <span class="literal">void</span> contextInitialized(ServletContextEvent arg0) {
        <span class="keyword">LOG</span><span class="built_in">.</span>info(<span class="string">"start timer"</span>);
        Calendar calendar = Calendar<span class="built_in">.</span>getInstance();
          <span class="comment">/*** 定制每日17:30执行方法 ***/</span>
          calendar<span class="built_in">.</span><span class="built_in">set</span>(Calendar<span class="built_in">.</span>HOUR_OF_DAY, <span class="number">17</span>);
          calendar<span class="built_in">.</span><span class="built_in">set</span>(Calendar<span class="built_in">.</span>MINUTE, <span class="number">30</span>);
          calendar<span class="built_in">.</span><span class="built_in">set</span>(Calendar<span class="built_in">.</span>SECOND, <span class="number">0</span>);
          <span class="built_in">Date</span> <span class="built_in">date</span>=calendar<span class="built_in">.</span>getTime(); <span class="comment">//第一次执行定时任务的时间</span>

          <span class="comment">//如果第一次执行定时任务的时间 小于 当前的时间</span>
          <span class="comment">//此时要在 第一次执行定时任务的时间 加一天，以便此任务在下个时间点执行。如果不加一天，任务会立即执行。</span>
          <span class="keyword">if</span> (<span class="built_in">date</span><span class="built_in">.</span>before(<span class="literal">new</span> <span class="built_in">Date</span>())) {
              <span class="built_in">date</span> = this<span class="built_in">.</span>addDay(<span class="built_in">date</span>, <span class="number">1</span>);
          }
        timer = <span class="literal">new</span> Timer();  
        Task task = <span class="literal">new</span> Task();  
        <span class="comment">//安排指定的任务在指定的时间开始进行重复的固定延迟执行。  </span>
        timer<span class="built_in">.</span>schedule(task,<span class="built_in">date</span>,PERIOD_DAY);  
        <span class="keyword">LOG</span><span class="built_in">.</span>info(<span class="string">"start end"</span>);
    }  

    <span class="comment">// 增加或减少天数</span>
     <span class="keyword">public</span> <span class="built_in">Date</span> addDay(<span class="built_in">Date</span> <span class="built_in">date</span>, int num) {
      Calendar startDT = Calendar<span class="built_in">.</span>getInstance();
      startDT<span class="built_in">.</span>setTime(<span class="built_in">date</span>);
      startDT<span class="built_in">.</span>add(Calendar<span class="built_in">.</span>DAY_OF_MONTH, num);
      <span class="keyword">return</span> startDT<span class="built_in">.</span>getTime();
     }
}
</code></pre><p>GetApplicationContext.java</p>
<pre><code>    <span class="comment">//获得注解的hotWordsDao</span>
    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GetApplicationContext</span> {
    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">ApplicationContextHolder</span> {  
        <span class="comment">// 单例变量  </span>
        <span class="keyword">private</span> <span class="keyword">static</span> ApplicationContext AC = <span class="keyword">new</span> FileSystemXmlApplicationContext(  
                <span class="string">"classpath:applicationContext-*.xml"</span>);  
    }  


    <span class="comment">// 私有化的构造方法，保证外部的类不能通过构造器来实例化。  </span>
    <span class="function"><span class="keyword">private</span> <span class="title">GetApplicationContext</span>(<span class="params"></span>) </span>{  


    }  


    <span class="comment">// 获取单例对象实例  </span>
    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ApplicationContext <span class="title">getInstance</span>(<span class="params"></span>) </span>{  
        <span class="keyword">if</span> (ApplicationContextHolder.AC == <span class="keyword">null</span>) {  
            ApplicationContextHolder.AC = <span class="keyword">new</span> FileSystemXmlApplicationContext(  
                    <span class="string">"classpath:applicationContext-*.xml"</span>);  
        }  
        <span class="keyword">return</span> ApplicationContextHolder.AC;  
    }  
}
</code></pre><p>Task.java</p>
<pre><code><span class="keyword">package</span> com.inveno.ccs.timer;

<span class="keyword">import</span> java.util.List;
<span class="keyword">import</span> java.util.TimerTask;

<span class="keyword">import</span> org.springframework.context.ApplicationContext;

<span class="keyword">import</span> com.inveno.ccs.dao.FirmDao;
<span class="keyword">import</span> com.inveno.ccs.dao.HotWordsDao;
<span class="keyword">import</span> com.inveno.ccs.dto.DailyHotWordDTO;
<span class="keyword">import</span> com.inveno.ccs.dto.HotWordsDTO;
<span class="keyword">import</span> com.inveno.ccs.dto.TreeDTO;
<span class="keyword">import</span> com.inveno.ccs.service.HotWordsServer;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="keyword">Task</span> <span class="keyword">extends</span> TimerTask{

<span class="comment">/** 
 * 执行内容 
 * 
 */</span>  
    <span class="keyword">public</span> <span class="keyword">void</span> run() { 
        ApplicationContext ctx= GetApplicationContext.getInstance();
        HotWordsDao hotWordsDao = (HotWordsDao) ctx.getBean(<span class="string">"hotWordsDao"</span>); 
        HotWordsServer hotWordsServer = (HotWordsServer) ctx.getBean(<span class="string">"hotWordsServer"</span>); 
        FirmDao firmDao = (FirmDao) ctx.getBean(<span class="string">"firmDao"</span>);
        List&lt;TreeDTO&gt; firmList=firmDao.findTreeDTO();

        <span class="keyword">try</span> {
            List&lt;DailyHotWordDTO&gt; dailyList=hotWordsDao.getDailyHotWordList();
            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dailyList.<span class="keyword">size</span>(); i++) {
                DailyHotWordDTO dailyHotWordDTO=dailyList.get(i);
                List&lt;HotWordsDTO&gt; dtoList=hotWordsServer.getHotWords(dailyHotWordDTO.getWord());
                <span class="keyword">if</span>(dtoList.<span class="keyword">size</span>()&gt;<span class="number">0</span>){
                    dailyList.remove(i);
                    <span class="keyword">continue</span>;
                }
            }

            <span class="keyword">if</span>(dailyList!=<span class="keyword">null</span> &amp;&amp; dailyList.<span class="keyword">size</span>()&gt;<span class="number">0</span>){
                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; firmList.<span class="keyword">size</span>(); j++) {
                    TreeDTO treeDTO=firmList.get(j);
                    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dailyList.<span class="keyword">size</span>(); i++) {
                        DailyHotWordDTO dailyHotWordDTO=dailyList.get(i);
                        dailyHotWordDTO.setFirmId(treeDTO.getId()+<span class="string">""</span>);
                        dailyHotWordDTO.setFirmName(treeDTO.<span class="keyword">getText</span>());
                        hotWordsDao.insertDailyHotWordDTO(dailyHotWordDTO);
                    }

                }
            }
        } <span class="keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }    
}
</code></pre><p>web.xml中配置listener：</p>
<pre><code>&lt;listener&gt;&lt;listener-<span class="class"><span class="keyword">class</span>&gt;<span class="title">com</span>.<span class="title">inveno</span>.<span class="title">ccs</span>.<span class="title">Timer</span>.<span class="title">TimerManager</span><span class="inheritance">&lt;<span class="parent">listener</span></span>-<span class="title">class</span>&gt;<span class="inheritance">&lt;</span>/<span class="title">listener</span>&gt;</span>
</code></pre><p>总结：功能开发完成了，在完成的时候有几个地方遇到了问题:<br>1.获取不到hotWordsDao，然后折腾半天，终于搞定。<br>2.只要是服务重启就会调用task，这样业务就产生问题，只需要判断一下即可。</p>
<p>定时任务其实有很多，也很灵活，spring quartz/timer等等。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Java自带的java.util.Timer类，通过调度一个java.util.TimerTask任务。<br>基本流程：在web.xml中配置listener调用timer类，timer类实现接口ServletContextListener,调用schedule中task。task中实现业务逻辑。<br>]]>
    
    </summary>
    
      <category term="timer" scheme="http://blog.chen777.com/tags/timer/"/>
    
      <category term="timer" scheme="http://blog.chen777.com/categories/timer/"/>
    
  </entry>
  
</feed>
